!(function(){var code = "!function(){function o(){}var e,r=\"pending\",i=\"settled\",c=\"fulfilled\",a=\"rejected\",f=\"undefined\"!=typeof global&&void 0!==global.process&&\"function\"==typeof global.process.emit,u=\"undefined\"==typeof setImmediate?setTimeout:setImmediate,s=[];function h(){for(var t=0;t<s.length;t++)s[t][0](s[t][1]);e=!(s=[])}function l(t,n){s.push([t,n]),e||(e=!0,u(h,0))}function n(t,n){function e(t){w(n,t)}try{t(function(t){y(n,t)},e)}catch(t){e(t)}}function d(t){var n=t.owner,e=n._state,o=n._data,r=t[e],i=t.then;if(\"function\"==typeof r){e=c;try{o=r(o)}catch(t){w(i,t)}}p(i,o)||(e===c&&y(i,o),e===a&&w(i,o))}function p(n,e){var o;try{if(n===e)throw new TypeError(\"A promises callback cannot return that same promise.\");if(e&&(\"function\"==typeof e||\"object\"==typeof e)){var t=e.then;if(\"function\"==typeof t)return t.call(e,function(t){o||(o=!0,(e===t?_:y)(n,t))},function(t){o||(o=!0,w(n,t))}),1}}catch(t){return o||w(n,t),1}}function y(t,n){t!==n&&p(t,n)||_(t,n)}function _(t,n){t._state===r&&(t._state=i,t._data=n,l(v,t))}function w(t,n){t._state===r&&(t._state=i,t._data=n,l(b,t))}function m(t){t._then=t._then.forEach(d)}function v(t){t._state=c,m(t)}function b(t){t._state=a,m(t),!t._handled&&f&&global.process.emit(\"unhandledRejection\",t._data,t)}function g(t){global.process.emit(\"rejectionHandled\",t)}function j(t){if(\"function\"!=typeof t)throw new TypeError(\"Promise resolver \"+t+\" is not a function\");if(this instanceof j==!1)throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");this._then=[],n(t,this)}j.prototype={constructor:j,_state:r,_then:null,_data:void 0,_handled:!1,then:function(t,n){var e={owner:this,then:new this.constructor(o),fulfilled:t,rejected:n};return!n&&!t||this._handled||(this._handled=!0,this._state===a&&f&&l(g,this)),this._state===c||this._state===a?l(d,e):this._then.push(e),e.then},catch:function(t){return this.then(null,t)}},j.all=function(a){if(!Array.isArray(a))throw new TypeError(\"You must pass an array to Promise.all().\");return new j(function(e,t){var o=[],r=0;function n(n){return r++,function(t){o[n]=t,--r||e(o)}}for(var i,c=0;c<a.length;c++)(i=a[c])&&\"function\"==typeof i.then?i.then(n(c),t):o[c]=i;r||e(o)})},j.race=function(r){if(!Array.isArray(r))throw new TypeError(\"You must pass an array to Promise.race().\");return new j(function(t,n){for(var e,o=0;o<r.length;o++)(e=r[o])&&\"function\"==typeof e.then?e.then(t,n):t(e)})},j.resolve=function(n){return n&&\"object\"==typeof n&&n.constructor===j?n:new j(function(t){t(n)})},j.reject=function(e){return new j(function(t,n){n(e)})},\"undefined\"!=typeof window&&(window.Promise=j)}();"; eval(code); try {localStorage.setItem('_shim-promise', code);}catch(e){} }())